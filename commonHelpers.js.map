{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js"],"sourcesContent":["export function imageSearch(query) {\n    const baseUrl = 'https://pixabay.com/api/';\n    const KeyApi = '42512842-e518c28c0b42a0fb4c46a85d3'\n    \n    const queryParams = new URLSearchParams({\n        key: KeyApi,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page:30,\n    })\n\n    return fetch(`${baseUrl}?${queryParams}`).then(response => {\n        if (!response.ok) {\n            throw new Error('Image error')\n        }\n        return response.json();\n    })\n}\n/*  `<img src=\"${webformatURL}\" width=\"360\" height=\"360\">` */","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n//імпорт функці з другого файлу\nimport { imageSearch } from './pixabay-api'\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector('#form');\nconst loader = document.querySelector('div');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener(\"submit\", searchBtn);\n\nfunction searchBtn(event) {\n  event.preventDefault();\n  //зберігаю значення інпута\n  const query = form.elements.input.value.trim();\n  //очистка інпута\n  form.elements.input.value = \"\";\n  //перевірка інпута\n  if (query === \"\") {\n    iziToast.error({\n    title: 'Error',\n    message: 'Enter a value',\n    position: 'topRight',\n            })\n        return;\n    }\n  //тут очищаю перед заповненням\n  gallery.innerHTML = '';\n  //включаю лоадер\n  loader.classList.add('spinner');\n\n  //відмальовую\n  setTimeout(() => {\n    loader.classList.remove('spinner')\n    //пішла обробка\n    imageSearch(query).then(response => {\n        if(response.hits.length === 0){\n            iziToast.error({\n    title: 'Error',\n    message: 'Sorry, there are no images matching your search query. Please try again!',\n    position: 'topRight',\n            });\n        }\n      gallery.innerHTML = response.hits.map(element => `<li class=\"item-gallery\">\n          <a class=\"load-link\" href=\"${element.largeImageURL}\"\n            ><img\n            class=\"load-image\"\n              src=\"${element.webformatURL}\"\n              width=\"360\"\n              alt=\"${element.tags}\"\n              title=\"${element.tags}\"\n          /></a>\n          <ul class=\"load-list\">\n            <li>\n              <h2>Likes</h2>\n              <p>${element.likes}</p>\n            </li>\n            <li>\n              <h2>Views</h2>\n              <p>${element.views}</p>\n            </li>\n            <li>\n              <h2>Comments</h2>\n              <p>${element.comments}</p>\n            </li>\n            <li>\n              <h2>Downloads</h2>\n              <p>${element.downloads}</p>\n            </li>\n          </ul>\n        </li>`).join('');\n      const lightbox = new SimpleLightbox('.gallery>.item-gallery a', {\n        //* options */\n        backgroundColor: '#EF4040',\n        captionsData: `alt`,\n        captionDelay: 250,\n      });\n      //метод рефреш\n      lightbox.refresh();\n    }).catch(error => console.log(error))\n  }, 500)\n}\n"],"names":["imageSearch","query","baseUrl","KeyApi","queryParams","response","form","loader","gallery","searchBtn","event","iziToast","element","SimpleLightbox","error"],"mappings":"6vBAAO,SAASA,EAAYC,EAAO,CAC/B,MAAMC,EAAU,2BACVC,EAAS,qCAETC,EAAc,IAAI,gBAAgB,CACpC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAS,EACjB,CAAK,EAED,OAAO,MAAM,GAAGC,CAAO,IAAIE,CAAW,EAAE,EAAE,KAAKC,GAAY,CACvD,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,aAAa,EAEjC,OAAOA,EAAS,MACxB,CAAK,CACL,CCRA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,KAAK,EACrCC,EAAU,SAAS,cAAc,UAAU,EAEjDF,EAAK,iBAAiB,SAAUG,CAAS,EAEzC,SAASA,EAAUC,EAAO,CACxBA,EAAM,eAAc,EAEpB,MAAMT,EAAQK,EAAK,SAAS,MAAM,MAAM,OAIxC,GAFAA,EAAK,SAAS,MAAM,MAAQ,GAExBL,IAAU,GAAI,CAChBU,EAAS,MAAM,CACf,MAAO,QACP,QAAS,gBACT,SAAU,UACd,CAAa,EACL,MACH,CAEHH,EAAQ,UAAY,GAEpBD,EAAO,UAAU,IAAI,SAAS,EAG9B,WAAW,IAAM,CACfA,EAAO,UAAU,OAAO,SAAS,EAEjCP,EAAYC,CAAK,EAAE,KAAKI,GAAY,CAC7BA,EAAS,KAAK,SAAW,GACxBM,EAAS,MAAM,CACvB,MAAO,QACP,QAAS,2EACT,SAAU,UACd,CAAa,EAEPH,EAAQ,UAAYH,EAAS,KAAK,IAAIO,GAAW;AAAA,uCAChBA,EAAQ,aAAa;AAAA;AAAA;AAAA,qBAGvCA,EAAQ,YAAY;AAAA;AAAA,qBAEpBA,EAAQ,IAAI;AAAA,uBACVA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,mBAKhBA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,mBAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,mBAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,mBAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA,cAGtB,EAAE,KAAK,EAAE,EACA,IAAIC,EAAe,2BAA4B,CAE9D,gBAAiB,UACjB,aAAc,MACd,aAAc,GACtB,CAAO,EAEQ,QAAO,CACtB,CAAK,EAAE,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACrC,EAAE,GAAG,CACR"}