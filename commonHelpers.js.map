{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js"],"sourcesContent":["export function imageSearch(query) {\n    const baseUrl = 'https://pixabay.com/api/';\n    const KEY_API = '42512842-e518c28c0b42a0fb4c46a85d3'\n    \n    const queryParams = new URLSearchParams({\n        key: KEY_API,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page:30,\n    })\n\n    return fetch(`${baseUrl}?${queryParams}`).then(response => {\n        if (!response.ok) {\n            throw new Error('Image error')\n        }\n        return response.json();\n    })\n}\n/*  `<img src=\"${webformatURL}\" width=\"360\" height=\"360\">` */","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n//імпорт функці з другого файлу\nimport { imageSearch } from './pixabay-api'\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector('#form');\nconst loader = document.querySelector('div');\nconst gallery = document.querySelector('.gallery');\n\n//використовую бібліотеку\nconst lightbox = new SimpleLightbox('.gallery>.item-gallery a', {\n        //* options */\n        backgroundColor: '#EF4040',\n        captionsData: `alt`,\n        captionDelay: 250,\n});\n      \n//навішую подію\nform.addEventListener(\"submit\", searchImages);\n\n//функція яка відмальовує сторінку\nfunction addImagesMarcup(largeImageURL, webformatURL, tags, likes, views, comments, downloads) {\n  return  `\n  <li class=\"item-gallery\">\n    <a class=\"load-link\" href=\"${largeImageURL}\">\n      <img class=\"load-image\" src=\"${webformatURL}\" width=\"360\" alt=\"${tags}\" title=\"${tags}\">\n    </a>\n    <ul class=\"load-list\">\n      <li>\n        <h2>Likes</h2>\n        <p>${likes}</p>\n      </li>\n      <li>\n        <h2>Views</h2>\n        <p>${views}</p>\n      </li>\n      <li>\n        <h2>Comments</h2>\n        <p>${comments}</p>\n      </li>\n      <li>\n        <h2>Downloads</h2>\n        <p>${downloads}</p>\n      </li>\n    </ul>\n  </li>\n`;\n}\n\n//обробка кліка\nfunction searchImages(event) {\n  event.preventDefault();\n  //зберігаю значення інпута\n  const query = form.elements.input.value.trim();\n\n  //очистка інпута\n  form.elements.input.value = \"\";\n\n  //перевірка інпута\n  if (query === \"\") {\n    iziToast.error({\n    title: 'Error',\n    message: 'Enter a value',\n    position: 'topRight',\n            })\n        return;\n    }\n  //тут очищаю перед заповненням\n  gallery.innerHTML = '';\n\n  //включаю лоадер\n  loader.classList.add('spinner');\n  \n    //пішла обробка\n    imageSearch(query).then(response => {\n        if(response.hits.length === 0){\n            iziToast.error({\n    title: 'Error',\n    message: 'Sorry, there are no images matching your search query. Please try again!',\n    position: 'topRight',\n            });\n      }\n      //відмальовую\n      gallery.innerHTML = response.hits.map(item => addImagesMarcup(item.largeImageURL, item.webformatURL, item.tags, item.likes, item.views, item.comments, item.downloads)).join('');\n\n      //метод рефреш\n      lightbox.refresh();\n    }).catch(error => console.log(error)).finally(() => {\n      loader.classList.remove('spinner')\n    })\n}\n\n"],"names":["imageSearch","query","baseUrl","KEY_API","queryParams","response","form","loader","gallery","lightbox","SimpleLightbox","searchImages","addImagesMarcup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","event","iziToast","item","error"],"mappings":"6vBAAO,SAASA,EAAYC,EAAO,CAC/B,MAAMC,EAAU,2BACVC,EAAU,qCAEVC,EAAc,IAAI,gBAAgB,CACpC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAS,EACjB,CAAK,EAED,OAAO,MAAM,GAAGC,CAAO,IAAIE,CAAW,EAAE,EAAE,KAAKC,GAAY,CACvD,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,aAAa,EAEjC,OAAOA,EAAS,MACxB,CAAK,CACL,CCRA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,KAAK,EACrCC,EAAU,SAAS,cAAc,UAAU,EAG3CC,EAAW,IAAIC,EAAe,2BAA4B,CAExD,gBAAiB,UACjB,aAAc,MACd,aAAc,GACtB,CAAC,EAGDJ,EAAK,iBAAiB,SAAUK,CAAY,EAG5C,SAASC,EAAgBC,EAAeC,EAAcC,EAAMC,EAAOC,EAAOC,EAAUC,EAAW,CAC7F,MAAQ;AAAA;AAAA,iCAEuBN,CAAa;AAAA,qCACTC,CAAY,sBAAsBC,CAAI,YAAYA,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,aAK9EC,CAAK;AAAA;AAAA;AAAA;AAAA,aAILC,CAAK;AAAA;AAAA;AAAA;AAAA,aAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,aAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,CAKtB,CAGA,SAASR,EAAaS,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMnB,EAAQK,EAAK,SAAS,MAAM,MAAM,OAMxC,GAHAA,EAAK,SAAS,MAAM,MAAQ,GAGxBL,IAAU,GAAI,CAChBoB,EAAS,MAAM,CACf,MAAO,QACP,QAAS,gBACT,SAAU,UACd,CAAa,EACL,MACH,CAEHb,EAAQ,UAAY,GAGpBD,EAAO,UAAU,IAAI,SAAS,EAG5BP,EAAYC,CAAK,EAAE,KAAKI,GAAY,CAC7BA,EAAS,KAAK,SAAW,GACxBgB,EAAS,MAAM,CACvB,MAAO,QACP,QAAS,2EACT,SAAU,UACd,CAAa,EAGPb,EAAQ,UAAYH,EAAS,KAAK,IAAIiB,GAAQV,EAAgBU,EAAK,cAAeA,EAAK,aAAcA,EAAK,KAAMA,EAAK,MAAOA,EAAK,MAAOA,EAAK,SAAUA,EAAK,SAAS,CAAC,EAAE,KAAK,EAAE,EAG/Kb,EAAS,QAAO,CACtB,CAAK,EAAE,MAAMc,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAAE,QAAQ,IAAM,CAClDhB,EAAO,UAAU,OAAO,SAAS,CACvC,CAAK,CACL"}